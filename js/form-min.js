const form=document.querySelector(".newsletter-form"),successMessage=document.querySelector(".success-message"),errorMessage=document.querySelector(".error-message");form.addEventListener("submit",(e=>{e.preventDefault();const s={name:form.element.name.value,email:form.element.email.value};fetch("/api/newsletter",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((e=>{if(!e.ok)throw Error(e.statusText);return successMessage.style.display="block",e.json()})).then((e=>{console.log(e)}))}));